<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"> <!-- Устанавливаем кодировку страницы для корректного отображения кириллицы -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Для адаптации страницы на мобильных устройствах -->
    <title>Задание 4</title> <!-- Заголовок страницы -->
    <link rel="stylesheet" href="style.css"> <!-- Подключение внешнего файла стилей -->
    <style>
        /* Класс для чётных фраз с голубым фоном */
        .class1 {
            background-color: lightblue; /* Задаём голубой фон */
            padding: 10px; /* Внутренние отступы */
            margin: 5px 0; /* Отступ между строками */
        }

        /* Класс для нечётных фраз с зелёным фоном */
        .class2 {
            background-color: lightgreen; /* Задаём зелёный фон */
            padding: 10px; /* Внутренние отступы */
            margin: 5px 0; /* Отступ между строками */
        }

        /* Класс для выделения текста жирным */
        .bold {
            font-weight: bold; /* Полужирное начертание текста */
        }
    </style>
</head>
<body>
    <!-- Шапка сайта -->
    <header class="header">
        <div class="logo-computer">
            <div class="screen"></div> <!-- Экран логотипа -->
            <div class="base"></div> <!-- Основание логотипа -->
        </div>
        <nav class="menu">
            <a href="index.html">Главная</a> <!-- Ссылка на главную страницу -->
            <div class="tasks-menu">
                <a>Задания</a> <!-- Родительский элемент для подменю -->
                <div class="dropdown">
                    <!-- Подменю с заданиями -->
                    <a href="task2.html">Задание 2</a> <!-- Ссылка на задание 2 -->
                    <a href="task3.html">Задание 3</a> <!-- Ссылка на задание 3 -->
                    <a href="task4.html">Задание 4</a> <!-- Ссылка на задание 4 -->
                    <a href="task5.html">Задание 5</a> <!-- Ссылка на задание 5 -->
                </div>
            </div>
        </nav>
    </header>

    <!-- Боковая панель -->
    <aside>
        <h2>Список фраз</h2> <!-- Заголовок боковой панели -->
        <ol id="phrase-list"></ol> <!-- Нумерованный список для многоуровневых элементов -->
        <button id="create-list-item">Создать</button> <!-- Кнопка для добавления фраз в список -->
    </aside>

    <!-- Основной контент -->
    <main class="main-content">
        <h1>Вариант 3</h1> <!-- Заголовок основного задания -->
        <section>
            <h2>Фразы</h2> <!-- Заголовок секции -->
            <button id="toggle-phrase">Показать фразу</button> <!-- Кнопка для добавления фраз -->
            <button id="repaint">Перекрасить</button> <!-- Кнопка для изменения стиля чётных строк -->
            <div id="phrase-container"></div> <!-- Контейнер для отображения фраз -->
        </section>
    </main>

    <!-- JavaScript -->
    <script>
        // Массив латинских фраз
        const latinPhrases = [
            "Consuetudo est altera natura", // "Привычка - вторая натура"
            "Nota bene", // "Заметьте хорошо!"
            "Nulla calamitas sola", // "Беда не приходит одна"
            "Per aspera ad astra" // "Через тернии к звёздам"
        ];

        // Массив переводов фраз на русский язык
        const russianPhrases = [
            "Привычка - вторая натура",
            "Заметьте хорошо!",
            "Беда не приходит одна",
            "Через тернии к звёздам"
        ];

        // Переменные для отслеживания состояния
        let usedIndices = new Set(); // Хранит индексы уже использованных фраз
        let toggleState = false; // Переключатель между классами class1 и class2
        let boldState = false; // Переключатель для жирности текста

        // Обработчик для кнопки "Показать фразу"
        document.getElementById('toggle-phrase').addEventListener('click', () => {
            const container = document.getElementById('phrase-container'); // Контейнер для фраз

            // Проверяем, если все фразы уже были использованы
            if (usedIndices.size === latinPhrases.length) {
                alert('Фразы закончились'); // Выводим сообщение
                return;
            }

            // Генерация случайного индекса
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * latinPhrases.length);
            } while (usedIndices.has(randomIndex));

            usedIndices.add(randomIndex); // Добавляем индекс в набор использованных

            // Создаём элемент для фразы
            const phrase = document.createElement('p');
            phrase.textContent = `${latinPhrases[randomIndex]} - ${russianPhrases[randomIndex]}`;
            phrase.className = toggleState ? 'class1' : 'class2'; // Применяем стиль
            toggleState = !toggleState; // Переключаем стиль для следующей строки

            container.appendChild(phrase); // Добавляем фразу в контейнер
        });

        // Обработчик для кнопки "Перекрасить"
        document.getElementById('repaint').addEventListener('click', () => {
            const phrases = document.querySelectorAll('#phrase-container p:nth-child(even)'); // Все чётные строки
            phrases.forEach(phrase => {
                if (boldState) {
                    phrase.classList.remove('bold'); // Удаляем жирность
                } else {
                    phrase.classList.add('bold'); // Добавляем жирность
                }
            });
            boldState = !boldState; // Переключаем состояние
        });

        // Обработчик для кнопки "Создать"
        document.getElementById('create-list-item').addEventListener('click', () => {
            const list = document.getElementById('phrase-list'); // Нумерованный список
            const randomIndex = Math.floor(Math.random() * latinPhrases.length); // Случайный индекс

            // Создаём элемент списка
            const listItem = document.createElement('li');

            // Латинская фраза
            const latinItem = document.createElement('span');
            latinItem.textContent = latinPhrases[randomIndex];
            latinItem.style.fontWeight = 'bold'; // Жирное начертание

            // Вложенный список для перевода
            const subList = document.createElement('ul');
            const subItem = document.createElement('li');
            subItem.textContent = russianPhrases[randomIndex];

            subList.appendChild(subItem); // Добавляем перевод
            listItem.appendChild(latinItem); // Добавляем латинскую фразу
            listItem.appendChild(subList); // Добавляем перевод
            list.appendChild(listItem); // Добавляем элемент в список
        });
    </script>

    <!-- Подвал -->
    <footer class="footer">
        <p>© 2024 АСУ на производстве. Все права защищены.</p>
    </footer>
</body>
</html>
